(function(){function d(i,a,c){function s(n,t){if(!a[n]){if(!i[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[n]={exports:{}};i[n][0].call(o.exports,function(t){var e=i[n][1][t];return s(e||t)},o,o.exports,d,i,a,c)}return a[n].exports}for(var u="function"==typeof require&&require,t=0;t<c.length;t++)s(c[t]);return s}return d})()({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./lib/base"),o=t("./lib/java"),i=t("./lib/objc"),a=t("./lib/android");globalThis.Log=r.Log,globalThis.JavaHelper=new o.JavaHelper,globalThis.ObjCHelper=new i.ObjCHelper,globalThis.AndroidHelper=new a.AndroidHelper},{"./lib/android":2,"./lib/base":3,"./lib/java":4,"./lib/objc":5}],2:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.AndroidHelper=void 0;var s=t("./base"),o=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.setWebviewDebuggingEnabled=function(){var t=globalThis.JavaHelper;s.Log.i("======================================================\r\nAndroid Enable Webview Debugging                      \r\n======================================================"),Java.perform(function(){t.hookMethods("android.webkit.WebView","loadUrl",function(t,e){return s.Log.d("setWebContentsDebuggingEnabled: "+t),t.setWebContentsDebuggingEnabled(!0),this.apply(t,e)})});try{t.hookMethods("com.uc.webview.export.WebView","loadUrl",function(t,e){return s.Log.d("setWebContentsDebuggingEnabled: "+t),t.setWebContentsDebuggingEnabled(!0),this.apply(t,e)})}catch(t){s.Log.d("Hook com.uc.webview.export.WebView.loadUrl error: "+t,"[-]")}},e.prototype.bypassSslPinningLite=function(){var t=globalThis.JavaHelper;s.Log.i("======================================================\r\nAndroid Bypass ssl pinning                           \r\n======================================================"),Java.perform(function(){try{var n=Java.use("java.util.Arrays");t.hookMethods("com.android.org.conscrypt.TrustManagerImpl","checkServerTrusted",function(t,e){if(s.Log.d("Bypassing TrustManagerImpl checkServerTrusted"),"void"!=this.returnType.type)return"pointer"==this.returnType.type&&"java.util.List"==this.returnType.className?n.asList(e[0]):void 0})}catch(t){s.Log.d("Hook com.android.org.conscrypt.TrustManagerImpl.checkTrusted error: "+t,"[-]")}try{t.hookMethods("com.google.android.gms.org.conscrypt.Platform","checkServerTrusted",function(t,e){s.Log.d("Bypassing Platform checkServerTrusted {1}")})}catch(t){s.Log.d("Hook com.google.android.gms.org.conscrypt.Platform.checkServerTrusted error: "+t,"[-]")}try{t.hookMethods("com.android.org.conscrypt.Platform","checkServerTrusted",function(t,e){s.Log.d("Bypassing Platform checkServerTrusted {2}")})}catch(t){s.Log.d("Hook com.android.org.conscrypt.Platform.checkServerTrusted error: "+t,"[-]")}})},e.prototype.bypassSslPinning=function(){var c=globalThis.JavaHelper;s.Log.i("======================================================\r\nAndroid Bypass for various Certificate Pinning methods\r\n======================================================"),Java.perform(function(){var n=[Java.registerClass({name:"xxx.xxx.xxx.TrustManager",implements:[Java.use("javax.net.ssl.X509TrustManager")],methods:{checkClientTrusted:function(t,e){},checkServerTrusted:function(t,e){},getAcceptedIssuers:function(){return[]}}}).$new()];try{c.hookMethod("javax.net.ssl.SSLContext","init",["[Ljavax.net.ssl.KeyManager;","[Ljavax.net.ssl.TrustManager;","java.security.SecureRandom"],function(t,e){return s.Log.d("Bypassing Trustmanager (Android < 7) pinner"),e[1]=n,this.apply(t,e)})}catch(t){s.Log.d("TrustManager (Android < 7) pinner not found","[-]")}try{c.hookMethods("okhttp3.CertificatePinner","check",function(t,e){s.Log.d("Bypassing OkHTTPv3 {1}: "+e[0])})}catch(t){s.Log.d("OkHTTPv3 {1} pinner not found: "+t,"[-]")}try{c.hookMethod("okhttp3.CertificatePinner","check$okhttp",["java.lang.String","kotlin.jvm.functions.Function0"],function(t,e){s.Log.d("Bypassing OkHTTPv3 {4}: "+e[0])})}catch(t){s.Log.d("OkHTTPv3 {4} pinner not found: "+t,"[-]")}try{c.hookMethods("com.datatheorem.android.trustkit.pinning.OkHostnameVerifier","verify",function(t,e){return s.Log.d("Bypassing Trustkit {1}: "+e[0]),!0})}catch(t){s.Log.d("Trustkit {1} pinner not found: "+t,"[-]")}try{c.hookMethods("com.datatheorem.android.trustkit.pinning.PinningTrustManager","checkServerTrusted",function(t,e){s.Log.d("Bypassing Trustkit {3}")})}catch(t){s.Log.d("Trustkit {3} pinner not found: "+t,"[-]")}try{var r=Java.use("java.util.ArrayList");c.hookMethods("com.android.org.conscrypt.TrustManagerImpl","checkTrustedRecursive",function(t,e){return s.Log.d("Bypassing TrustManagerImpl (Android > 7) checkTrustedRecursive check: "+e[3]),r.$new()})}catch(t){s.Log.d("TrustManagerImpl (Android > 7) checkTrustedRecursive check not found: "+t,"[-]")}try{c.hookMethods("com.android.org.conscrypt.TrustManagerImpl","verifyChain",function(t,e){return s.Log.d("Bypassing TrustManagerImpl (Android > 7) verifyChain check: "+e[2]),e[0]})}catch(t){s.Log.d("TrustManagerImpl (Android > 7) verifyChain check not found: "+t,"[-]")}try{c.hookMethods("appcelerator.https.PinningTrustManager","checkServerTrusted",function(){s.Log.d("Bypassing Appcelerator PinningTrustManager")})}catch(t){s.Log.d("Appcelerator PinningTrustManager pinner not found: "+t,"[-]")}try{c.hookMethods("io.fabric.sdk.android.services.network.PinningTrustManager","checkServerTrusted",function(){s.Log.d("Bypassing Fabric PinningTrustManager")})}catch(t){s.Log.d("Fabric PinningTrustManager pinner not found: "+t,"[-]")}try{c.hookMethods("com.android.org.conscrypt.OpenSSLSocketImpl","verifyCertificateChain",function(){s.Log.d("Bypassing OpenSSLSocketImpl Conscrypt {1}")})}catch(t){s.Log.d("OpenSSLSocketImpl Conscrypt {1} pinner not found: "+t,"[-]")}try{c.hookMethods("com.android.org.conscrypt.OpenSSLEngineSocketImpl","verifyCertificateChain",function(t,e){s.Log.d("Bypassing OpenSSLEngineSocketImpl Conscrypt: "+(e.length>=2?e[1]:null))})}catch(t){s.Log.d("OpenSSLEngineSocketImpl Conscrypt pinner not found: "+t,"[-]")}try{c.hookMethods("org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl","verifyCertificateChain",function(t,e){s.Log.d("Bypassing OpenSSLSocketImpl Apache Harmony")})}catch(t){s.Log.d("OpenSSLSocketImpl Apache Harmony pinner not found: "+t,"[-]")}try{c.hookMethod("nl.xservices.plugins.sslCertificateChecker","execute",["java.lang.String","org.json.JSONArray","org.apache.cordova.CallbackContext"],function(t,e){return s.Log.d("Bypassing PhoneGap sslCertificateChecker: "+e[0]),!0})}catch(t){s.Log.d("PhoneGap sslCertificateChecker pinner not found: "+t,"[-]")}try{var t=Java.use("com.worklight.wlclient.api.WLClient");c.hookMethods(t.getInstance(),"pinTrustedCertificatePublicKey",function(t,e){s.Log.d("Bypassing IBM MobileFirst pinTrustedCertificatePublicKey {1}: "+e[0])})}catch(t){s.Log.d("IBM MobileFirst pinTrustedCertificatePublicKey {1} pinner not found: "+t,"[-]")}try{c.hookMethods("com.worklight.wlclient.certificatepinning.HostNameVerifierWithCertificatePinning","verify",function(t,e){s.Log.d("Bypassing IBM WorkLight HostNameVerifierWithCertificatePinning {1}: "+e[0])})}catch(t){s.Log.d("IBM WorkLight HostNameVerifierWithCertificatePinning {1} pinner not found: "+t,"[-]")}try{c.hookMethod("com.android.org.conscrypt.CertPinManager","checkChainPinning",["java.lang.String","java.util.List"],function(t,e){return s.Log.d("Bypassing Conscrypt CertPinManager: "+e[0]),!0})}catch(t){s.Log.d("Conscrypt CertPinManager pinner not found: "+t,"[-]")}try{c.hookMethod("com.android.org.conscrypt.CertPinManager","isChainValid",["java.lang.String","java.util.List"],function(t,e){return s.Log.d("Bypassing Conscrypt CertPinManager (Legacy): "+e[0]),!0})}catch(t){s.Log.d("Conscrypt CertPinManager (Legacy) pinner not found: "+t,"[-]")}try{c.hookMethod("com.commonsware.cwac.netsecurity.conscrypt.CertPinManager","isChainValid",["java.lang.String","java.util.List"],function(t,e){return s.Log.d("Bypassing CWAC-Netsecurity CertPinManager: "+e[0]),!0})}catch(t){s.Log.d("CWAC-Netsecurity CertPinManager pinner not found: "+t,"[-]")}try{c.hookMethod("com.worklight.androidgap.plugin.WLCertificatePinningPlugin","execute",["java.lang.String","org.json.JSONArray","org.apache.cordova.CallbackContext"],function(t,e){return s.Log.d("Bypassing Worklight Androidgap WLCertificatePinningPlugin: "+e[0]),!0})}catch(t){s.Log.d("Worklight Androidgap WLCertificatePinningPlugin pinner not found: "+t,"[-]")}try{c.hookMethods("io.netty.handler.ssl.util.FingerprintTrustManagerFactory","checkTrusted",function(t,e){s.Log.d("Bypassing Netty FingerprintTrustManagerFactory")})}catch(t){s.Log.d("Netty FingerprintTrustManagerFactory pinner not found: "+t,"[-]")}try{c.hookMethods("com.squareup.okhttp.CertificatePinner","check",function(t,e){s.Log.d("Bypassing Squareup CertificatePinner {1}: "+e[0])})}catch(t){s.Log.d("Squareup CertificatePinner {1} pinner not found: "+t,"[-]")}try{c.hookMethods("com.squareup.okhttp.internal.tls.OkHostnameVerifier","verify",function(t,e){return s.Log.d("Bypassing Squareup OkHostnameVerifier {1}: "+e[0]),!0})}catch(t){s.Log.d("Squareup OkHostnameVerifier check not found: "+t,"[-]")}try{c.hookMethods("com.android.okhttp.internal.tls.OkHostnameVerifier","verify",function(t,e){return s.Log.d("Bypassing android OkHostnameVerifier {2}: "+e[0]),!0})}catch(t){s.Log.d("android OkHostnameVerifier check not found: "+t,"[-]")}try{c.hookMethods("okhttp3.internal.tls.OkHostnameVerifier","verify",function(t,e){return s.Log.d("Bypassing okhttp3 OkHostnameVerifier {3}: "+e[0]),!0})}catch(t){s.Log.d("okhttp3 OkHostnameVerifier check not found: "+t,"[-]")}try{c.hookMethods("android.webkit.WebViewClient","onReceivedSslError",function(t,e){s.Log.d("Bypassing Android WebViewClient check {1}")})}catch(t){s.Log.d("Android WebViewClient {1} check not found: "+t,"[-]")}try{c.hookMethods("android.webkit.WebViewClient","onReceivedError",function(t,e){s.Log.d("Bypassing Android WebViewClient check {3}")})}catch(t){s.Log.d("Android WebViewClient {3} check not found: "+t,"[-]")}try{c.hookMethod("org.apache.cordova.CordovaWebViewClient","onReceivedSslError",["android.webkit.WebView","android.webkit.SslErrorHandler","android.net.http.SslError"],function(t,e){s.Log.d("Bypassing Apache Cordova WebViewClient check"),e[3].proceed()})}catch(t){s.Log.d("Apache Cordova WebViewClient check not found: "+t,"[-]")}try{c.hookMethods("ch.boye.httpclientandroidlib.conn.ssl.AbstractVerifier","verify",function(t,e){s.Log.d("Bypassing Boye AbstractVerifier check: "+e[0])})}catch(t){s.Log.d("Boye AbstractVerifier check not found: "+t,"[-]")}try{c.hookMethod("org.apache.http.conn.ssl.AbstractVerifier","verify",["java.lang.String","[Ljava.lang.String;","[Ljava.lang.String;","boolean"],function(t,e){s.Log.d("Bypassing Apache AbstractVerifier check: "+e[0])})}catch(t){s.Log.d("Apache AbstractVerifier check not found: "+t,"[-]")}try{c.hookMethod("org.chromium.net.impl.CronetEngineBuilderImpl","enablePublicKeyPinningBypassForLocalTrustAnchors",["boolean"],function(t,e){return s.Log.i("[+] Disabling Public Key pinning for local trust anchors in Chromium Cronet"),e[0]=!0,this.apply(t,e)})}catch(t){s.Log.d("Chromium Cronet pinner not found: "+t,"[-]")}try{c.hookMethods("diefferson.http_certificate_pinning.HttpCertificatePinning","checkConnexion",function(t,e){return s.Log.d("Bypassing Flutter HttpCertificatePinning : "+e[0]),!0})}catch(t){s.Log.d("Flutter HttpCertificatePinning pinner not found: "+t,"[-]")}try{c.hookMethods("javax.net.ssl.SSLPeerUnverifiedException","$init",function(t,e){s.Log.w("Unexpected SSLPeerUnverifiedException occurred, trying to patch it dynamically...","[!]");var n=Java.use("java.lang.Thread").currentThread().getStackTrace(),r=n.findIndex(function(t){return"javax.net.ssl.SSLPeerUnverifiedException"===t.getClassName()}),o=n[r+1],i=o.getClassName(),a=o.getMethodName();return c.hookMethods(i,a,function(t,e){return"void"==this.returnType.type?void 0:"boolean"===this.returnType.type||null}),this.apply(t,e)})}catch(t){s.Log.d("SSLPeerUnverifiedException not found: "+t,"[-]")}})},e}(s.Base);n.AndroidHelper=o},{"./base":3}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Base=n.Log=void 0;var r=function(){function n(){}return n.setLevel=function(t){n.$level=t,n.d("Set log level: "+t)},n.d=function(t,e){void 0===e&&(e=null),n.$level<=n.debug&&send({log:{level:"debug",tag:e,message:t}})},n.i=function(t,e){void 0===e&&(e=null),n.$level<=n.info&&send({log:{level:"info",tag:e,message:t}})},n.w=function(t,e){void 0===e&&(e=null),n.$level<=n.warning&&send({log:{level:"warning",tag:e,message:t}})},n.e=function(t,e){void 0===e&&(e=null),n.$level<=n.error&&send({log:{level:"error",tag:e,message:t}})},n.debug=1,n.info=2,n.warning=3,n.error=4,n.$level=n.info,n}();n.Log=r;var o=function(){function t(){}return t.prototype.addMethod=function(e,t){this[e+"_$_$_"+t.length]=t,this[e]=function(){var t=e+"_$_$_"+arguments.length;if(this.hasOwnProperty(t))return this[t].apply(this,arguments);throw new Error("Argument count of "+arguments.length+" does not match "+e)}},t.prototype.ignoreError=function(t,e){void 0===e&&(e=void 0);try{return t()}catch(t){return e}},t}();n.Base=o},{}],4:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.JavaHelper=void 0;var c=t("./base"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"javaClass",{get:function(){return Java.use("java.lang.Class")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"javaString",{get:function(){return Java.use("java.lang.String")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"javaThrowable",{get:function(){return Java.use("java.lang.Throwable")},enumerable:!1,configurable:!0}),e.prototype.getClassName=function(t){return t.$classWrapper.__name__},e.prototype.findClass=function(t,e){if(void 0===e&&(e=void 0),void 0===e){var n=null,r=Java.enumerateClassLoadersSync();for(var o in r)try{var i=this.findClass(t,r[o]);if(null!=i)return i}catch(t){null==n&&(n=t)}throw n}var a=Java.classFactory.loader;try{return Reflect.set(Java.classFactory,"loader",e),Java.use(t)}finally{Reflect.set(Java.classFactory,"loader",a)}},e.prototype.$fixMethod=function(t){t.toString=function(){var t=this.returnType.className,e=(this.holder.$className||this.holder.__name__)+"."+this.methodName,n="";if(this.argumentTypes.length>0){n=this.argumentTypes[0].className;for(var r=1;r<this.argumentTypes.length;r++)n=n+", "+this.argumentTypes[r].className}return t+" "+e+"("+n+")"}},e.prototype.$hookMethod=function(t,e){void 0===e&&(e=null),null!=e?(t.implementation=function(){return e.call(t,this,arguments)},this.$fixMethod(t),c.Log.i("Hook method: "+t)):(t.implementation=null,this.$fixMethod(t),c.Log.i("Unhook method: "+t))},e.prototype.hookMethod=function(t,e,n,r){void 0===r&&(r=null);var o=e;if("string"==typeof o){var i=t;if("string"==typeof i&&(i=this.findClass(i)),o=i[o],null!=n){var a=n;for(var c in a)"string"!=typeof a[c]&&(a[c]=this.getClassName(a[c]));o=o.overload.apply(o,a)}}this.$hookMethod(o,r)},e.prototype.hookMethods=function(t,e,n){void 0===n&&(n=null);var r=t;"string"==typeof r&&(r=this.findClass(r));for(var o=r[e].overloads,i=0;i<o.length;i++)void 0!==o[i].returnType&&void 0!==o[i].returnType.className&&this.$hookMethod(o[i],n)},e.prototype.hookClass=function(t,e){void 0===e&&(e=null);var n=t;"string"==typeof n&&(n=this.findClass(n)),this.hookMethods(n,"$init",e);for(var r=[],o=n.class;null!=o&&"java.lang.Object"!==o.getName();){for(var i=o.getDeclaredMethods(),a=0;a<i.length;a++){var c=i[a].getName();r.indexOf(c)<0&&(r.push(c),this.hookMethods(n,c,e))}o=Java.cast(o.getSuperclass(),this.javaClass)}},e.prototype.callMethod=function(t,e){var n=this.getStackTrace()[0].getMethodName();return"<init>"===n&&(n="$init"),Reflect.get(t,n).apply(t,e)},e.prototype.getHookImpl=function(t){var o=this,i=t.printStack||!1,a=t.printArgs||!1;return function(t,e){var n={},r=this.apply(t,e);return!1!==i&&(n=Object.assign(n,o.$makeStackObject(this))),!1!==a&&(n=Object.assign(n,o.$makeArgsObject(e,r,this))),0!==Object.keys(n).length&&c.Log.i(n),r}},e.prototype.fromJavaArray=function(t,e){var n=t;"string"==typeof n&&(n=this.findClass(n));for(var r=[],o=Java.vm.getEnv(),i=0;i<o.getArrayLength(e.$handle);i++)r.push(Java.cast(o.getObjectArrayElement(e.$handle,i),n));return r},e.prototype.getEnumValue=function(t,e){var n=t;"string"==typeof n&&(n=this.findClass(n));var r=n.class.getEnumConstants();r instanceof Array||(r=this.fromJavaArray(n,r));for(var o=0;o<r.length;o++)if(r[o].toString()===e)return r[o];throw new Error("Name of "+e+" does not match "+n)},e.prototype.getStackTrace=function(){return this.javaThrowable.$new().getStackTrace()},e.prototype.$makeStackObject=function(t,e){void 0===e&&(e=void 0),void 0===e&&(e=this.getStackTrace());for(var n="Stack: "+t,r=0;r<e.length;r++)n+="\n    at "+this.toString(e[r]);return{stack:n}},e.prototype.printStack=function(t){void 0===t&&(t=void 0);var e=this.getStackTrace();null==t&&(t=e[0]),c.Log.i(this.$makeStackObject(t,e))},e.prototype.toString=function(t){if(void 0===t||null==t||!(t instanceof Object))return t;if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(this.toString(t[n]));return"["+e.toString()+"]"}return this.ignoreError(function(){return t.toString()},void 0)},e.prototype.$makeArgsObject=function(t,e,n){for(var r="Arguments: "+n,o=0;o<t.length;o++)r+="\n    Arguments["+o+"]: "+this.toString(t[o]);return void 0!==e&&(r+="\n    Return: "+this.toString(e)),{arguments:r}},e.prototype.printArguments=function(t,e,n){void 0===n&&(n=void 0),void 0===n&&(n=this.getStackTrace()[0]),c.Log.i(this.$makeArgsObject(t,e,n))},e}(c.Base);n.JavaHelper=o},{"./base":3}],5:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.ObjCHelper=void 0;var o=t("./base"),i=function(t){function e(){return t.call(this)||this}return r(e,t),e}(o.Base);n.ObjCHelper=i},{"./base":3}]},{},[1]);